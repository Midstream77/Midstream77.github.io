<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>链表</title>
    <link rel="stylesheet" href="/css/reset.css">
    <link rel="stylesheet" href="/css/prism.css">
    <link rel="stylesheet" href="/css/main.css">
    <link rel="stylesheet" href="/css/nav.css">
    <link rel="stylesheet" href="/css/blogs.css">
</head>

<body>
    <script src="/js/prism.js"></script>
    <!-- wrapper -->
    <div class="wrapper">
        <!-- header -->
        <div class="nheader">
            <h2 class="ntitle">Midstreamblog</h2>
            <h1 class="ntitle">链表</h1>
            <h3 class="ntitle">2021/05/21</h3>
        </div>
        <div class="divider"></div>
    </div>
    <div class="divider"></div>
    <div class="wrapper">
        <div class="divider"></div>
        <pre>
            <code class="language-C++">
//头文件LinkList.h
#include &lt;iostream>
#include &lt;cstdlib>
using namespace std;

typedef int DataType;

//构造节点
class node{
public:
    DataType data;
    node* next;
};

//构造链表
class LinkList{
public:
    //初始化
    LinkList(DataType data);

    //头插
    void pushfront(DataType data);
    //尾插
    void pushback(DataType data);
    //按下标插入
    void insert(DataType data, int index);
    //首端出栈
    DataType popfront();
    //弹栈
    DataType popback();

    //按下标删除
    void del(int index);
    //按值删除第一个
    int remove(DataType data);
    //按值删除全部
    int removeall(DataType data);

    //打印
    void print();

    node* head;
    int size;
};
            </code>
        </pre>
        <article>
            &ensp;
        </article>
        <pre>
            <code class="language-C++">
// LinkList.cpp
#include "LinkList.h"
#include &lt;string>

LinkList::LinkList(DataType data){
    head = new node{data,NULL};
    size = 1;
}

void LinkList::pushfront(DataType data){
    this->head = new node{data,this->head};
    this->size++;
}

void LinkList::pushback(DataType data){
    node* tmp;
    tmp = this->head;
    while(tmp->next!=NULL){
        tmp = tmp->next;
    }
    tmp->next = new node{data,NULL};
    this->size++;
}

void LinkList::insert(DataType data, int index){
    if(index&lt;=0){
        this->pushfront(data);
        return;
    }
    if(index>=this->size){
        this->pushback(data);
        return;
    }
    node* tmp;
    tmp = this->head;
    for(int i=1;i&lt;index;i++){
        tmp=tmp->next;
    }
    tmp->next = new node{data,tmp->next};
    this->size++;
}

DataType LinkList::popfront(){
    DataType tmp = head->data;
    head = head->next;
    size--;
    return tmp;
}

DataType LinkList::popback(){
    node* tmp = head;
    for(int i=2;i&lt;size;i++){
        tmp = tmp->next;
    }
    tmp->next = NULL;
    size--;
    return tmp->data;
}

void LinkList::del(int index){
    if(index&lt;1){
        this->popfront();
        return;
    }
    if(index>=this->size){
        this->popback();
        return;
    }
    node* tmp = head;
    for(int i=1;i&lt;index;i++){
        tmp = tmp->next;
    }
    tmp->next = tmp->next->next;
    size--;
}

int LinkList::remove(DataType data){
    node* tmp = this->head;
    if(tmp->data==data){
        this->popfront();
        return 0;
    }
    while(tmp->next!=NULL){
        if(tmp->next->data==data){
            tmp->next = tmp->next->next;
            size--;
            return 0;
        }
        tmp = tmp->next;
    }
    return 1;
}

int LinkList::removeall(DataType data){
    int tmp = 0;
    while(tmp!=1){
        tmp = this->remove(data);
    }
    if(tmp==1) return 0;
    return 1;
}

void LinkList::print(){
    string res;
    node* tmp;
    tmp = this->head;
    while(tmp!=NULL){
        res = res.append(std::to_string(tmp->data).append("->"));
        tmp = tmp->next;
    }
    res = res.substr(0,res.find_last_of('-'));
    cout&lt;&lt;res&lt;&lt;endl;
}

int main(){
    LinkList* plist = new LinkList(3);

    //test
    plist->pushfront(2);
    plist->pushfront(1);
    plist->pushback(4);
    plist->pushback(5);
    plist->print();//1->2->3->4->5

    plist->insert(3,2);
    plist->print();//1->2->3->3->4->5
    
    plist->popfront();
    plist->popback();
    plist->removeall(3);
    plist->print();//2->4

    plist->insert(3,1);
    plist->del(1);
    plist->print();//2->4
}
            </code>
        </pre>
    </div>
    <div class="divider"></div>
    <div class="divider"></div>
    <div class="divider"></div>
    <div class="divider"></div>
    <div class="divider"></div>
</body>
<div class="sidebar">
    <a href="/index.html"><img class="home" src="/img/logo/home.png" alt="home"></a>
    <a href="/nav/studynotes.html"><img class="back" src="/img/logo/back.png" alt="back"></a>
    <a href="#"><img class="back-top" src="/img/logo/top.png" alt="back to top"></a>
</div>

</html>